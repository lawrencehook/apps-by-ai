<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discount Calculator - AI Showcase</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: #0a0a0f;
            min-height: 100vh;
            color: #e0e0e0;
        }
        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        h1 { font-size: 1.8rem; margin-bottom: 8px; color: #fff; }
        .subtitle { color: #666; margin-bottom: 32px; }
        .back-link {
            position: fixed; top: 20px; right: 20px; color: #666; text-decoration: none;
            font-size: 14px; padding: 8px 14px; background: rgba(0,0,0,0.85);
            border-radius: 6px; border: 1px solid rgba(255,255,255,0.1);
        }
        .back-link:hover { color: #fff; }
        .calc-card {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
        }
        .input-group {
            margin-bottom: 24px;
        }
        .input-group label {
            display: block;
            color: #888;
            font-size: 0.9rem;
            margin-bottom: 8px;
        }
        .input-with-symbol {
            position: relative;
        }
        .input-with-symbol .symbol {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
            font-size: 1.2rem;
        }
        .input-with-symbol .symbol-right {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
            font-size: 1.2rem;
        }
        .input-with-symbol input { padding-left: 40px; }
        .input-with-symbol.right input { padding-left: 16px; padding-right: 40px; }
        input[type="number"] {
            width: 100%;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.15);
            color: #fff;
            padding: 16px;
            border-radius: 8px;
            font-size: 1.2rem;
        }
        input[type="number"]:focus {
            outline: none;
            border-color: #4ecdc4;
        }
        .discount-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-bottom: 16px;
        }
        .discount-btn {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            color: #888;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.2s;
        }
        .discount-btn:hover {
            background: rgba(255,255,255,0.1);
            color: #fff;
        }
        .discount-btn.active {
            background: rgba(78, 205, 196, 0.2);
            border-color: rgba(78, 205, 196, 0.5);
            color: #4ecdc4;
        }
        .results-card {
            background: rgba(78, 205, 196, 0.05);
            border: 1px solid rgba(78, 205, 196, 0.2);
            border-radius: 12px;
            padding: 24px;
        }
        .result-main {
            text-align: center;
            padding-bottom: 24px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 24px;
        }
        .result-label { color: #888; font-size: 0.9rem; margin-bottom: 8px; }
        .result-price {
            font-size: 3rem;
            font-weight: 600;
            font-family: monospace;
            color: #4ecdc4;
        }
        .original-price {
            color: #666;
            text-decoration: line-through;
            font-size: 1.2rem;
            margin-top: 8px;
        }
        .savings-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
        }
        .savings-label { color: #888; }
        .savings-value {
            font-weight: 600;
            font-family: monospace;
        }
        .savings-value.green { color: #4ecdc4; }
        .savings-value.red { color: #ff6b6b; }
        .multi-discount {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid rgba(255,255,255,0.08);
        }
        .multi-title { color: #888; font-size: 0.9rem; margin-bottom: 12px; }
        .multi-input {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }
        .multi-input input {
            width: 80px;
            padding: 10px;
            font-size: 1rem;
        }
        .add-btn {
            background: rgba(78, 205, 196, 0.2);
            border: 1px solid rgba(78, 205, 196, 0.4);
            color: #4ecdc4;
            padding: 10px 16px;
            border-radius: 6px;
            cursor: pointer;
        }
        .discount-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        .discount-tag {
            background: rgba(78, 205, 196, 0.15);
            border: 1px solid rgba(78, 205, 196, 0.3);
            color: #4ecdc4;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .discount-tag .remove {
            cursor: pointer;
            opacity: 0.7;
        }
        .discount-tag .remove:hover { opacity: 1; }
    </style>
</head>
<body>
    <a href="../../index.html" class="back-link">← Back</a>
    <div class="container">
        <h1>Discount Calculator</h1>
        <p class="subtitle">Calculate sale prices and savings instantly.</p>

        <div class="calc-card">
            <div class="input-group">
                <label>Original Price</label>
                <div class="input-with-symbol">
                    <span class="symbol">$</span>
                    <input type="number" id="originalPrice" placeholder="100.00" step="0.01" min="0">
                </div>
            </div>

            <div class="input-group">
                <label>Discount Percentage</label>
                <div class="discount-buttons">
                    <button class="discount-btn" data-discount="10">10%</button>
                    <button class="discount-btn" data-discount="15">15%</button>
                    <button class="discount-btn active" data-discount="20">20%</button>
                    <button class="discount-btn" data-discount="25">25%</button>
                    <button class="discount-btn" data-discount="30">30%</button>
                    <button class="discount-btn" data-discount="40">40%</button>
                    <button class="discount-btn" data-discount="50">50%</button>
                    <button class="discount-btn" data-discount="75">75%</button>
                </div>
                <div class="input-with-symbol right">
                    <input type="number" id="discountPercent" value="20" placeholder="Custom" min="0" max="100" step="1">
                    <span class="symbol-right">%</span>
                </div>
            </div>

            <div class="multi-discount">
                <div class="multi-title">Stack Multiple Discounts</div>
                <div class="multi-input">
                    <input type="number" id="additionalDiscount" placeholder="%" min="0" max="100">
                    <button class="add-btn" id="addDiscount">Add</button>
                </div>
                <div class="discount-tags" id="discountTags"></div>
            </div>
        </div>

        <div class="results-card">
            <div class="result-main">
                <div class="result-label">Final Price</div>
                <div class="result-price" id="finalPrice">$80.00</div>
                <div class="original-price" id="originalDisplay">was $100.00</div>
            </div>

            <div class="savings-row">
                <span class="savings-label">You Save</span>
                <span class="savings-value green" id="savingsAmount">$20.00</span>
            </div>
            <div class="savings-row">
                <span class="savings-label">Total Discount</span>
                <span class="savings-value green" id="totalDiscount">20%</span>
            </div>
        </div>
    </div>

    <script>
        let baseDiscount = 20;
        let additionalDiscounts = [];

        function formatCurrency(amount) {
            return '$' + amount.toFixed(2);
        }

        function calculate() {
            const original = Math.max(0, parseFloat(document.getElementById('originalPrice').value) || 0);

            // Clamp base discount
            const clampedDiscount = Math.max(0, Math.min(100, baseDiscount));

            // Calculate stacked discounts
            let price = original;

            // Apply base discount
            price = price * (1 - clampedDiscount / 100);

            // Apply additional discounts
            additionalDiscounts.forEach(d => {
                price = price * (1 - d / 100);
            });

            const savings = original - price;
            const totalDiscountPercent = original > 0 ? ((savings / original) * 100) : 0;

            document.getElementById('finalPrice').textContent = formatCurrency(price);
            document.getElementById('originalDisplay').textContent = 'was ' + formatCurrency(original);
            document.getElementById('savingsAmount').textContent = formatCurrency(savings);
            document.getElementById('totalDiscount').textContent = totalDiscountPercent.toFixed(1) + '%';
        }

        function renderDiscountTags() {
            const container = document.getElementById('discountTags');
            container.innerHTML = additionalDiscounts.map((d, i) => `
                <div class="discount-tag">
                    +${d}% off
                    <span class="remove" data-index="${i}">×</span>
                </div>
            `).join('');

            container.querySelectorAll('.remove').forEach(btn => {
                btn.addEventListener('click', () => {
                    additionalDiscounts.splice(parseInt(btn.dataset.index), 1);
                    renderDiscountTags();
                    calculate();
                });
            });
        }

        document.querySelectorAll('.discount-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.discount-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                baseDiscount = parseInt(btn.dataset.discount);
                document.getElementById('discountPercent').value = baseDiscount;
                calculate();
            });
        });

        document.getElementById('discountPercent').addEventListener('input', (e) => {
            baseDiscount = parseFloat(e.target.value) || 0;
            document.querySelectorAll('.discount-btn').forEach(btn => {
                btn.classList.toggle('active', parseInt(btn.dataset.discount) === baseDiscount);
            });
            calculate();
        });

        document.getElementById('originalPrice').addEventListener('input', calculate);

        document.getElementById('addDiscount').addEventListener('click', () => {
            const additional = parseFloat(document.getElementById('additionalDiscount').value);
            if (additional > 0 && additional <= 100) {
                additionalDiscounts.push(additional);
                document.getElementById('additionalDiscount').value = '';
                renderDiscountTags();
                calculate();
            }
        });

        document.getElementById('additionalDiscount').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                document.getElementById('addDiscount').click();
            }
        });

        calculate();
    </script>
</body>
</html>
